{% extends 'base.html' %}
{% load static %}
{% block head %}
    <link rel="stylesheet" type="text/css" href="{% static "css/result.css" %}">
{% endblock %}

{% block body %}
    <div class="container">
        <div class="menu">

        </div>

        <div class="container shops-box">
    <!--div 사이즈를 고정하고 이미지 크기를 맞추면 좋을 듯 함-->
            {% for shop in page_object %}
                <form method="get" action='detail' name="shop-form-{{forloop.counter}}">
                    <div class="container shop-box"
                         id="shop-div-{{forloop.counter}}" onclick="document.forms['shop-form-{{forloop.counter}}'].submit();">
                        <div class="container row">
                            <div class="col-4">
                                {% if shop.shop_thumbnail == 'https://imgfp.hotp.jp/SYS/cmn/images/common/diary/custom/m30_img_noimage.gif'%}
                                    <img class="shop-thumbnail" src="{% static 'others/no_thumbnail.png' %}">
                                {% else %}
                                    <img class="shop-thumbnail" src="{{shop.shop_thumbnail}}">
                                {% endif %}
                                <!--썸네일이 없는 파일은 google에서 이미지를 찾아오는 건 어떨까-->
                        <!--https://imgfp.hotp.jp/SYS/cmn/images/common/diary/custom/m30_img_noimage.gif-->
                            </div>
                            <div class="col-6">
                                <h6 class="text-white">{{shop.shop_kana}}</h6>
                                <h4 class="text-white">{{shop.shop_name}}</h4>
                            </div>
                            <div class="col-1">
                            </div>

                        </div>
                        <div class="container row">
                            <label class="text-white">{{shop.shop_access}}</label>
                        </div>
                        <br>
                        <div class="detail-button-box">
                            <input type="hidden" name="shop_id" value="{{shop.shop_id}}">
                        </div>
                    </div>
                </form>
                <hr class="pink-line">
            {% endfor %}
        </div>

        <div class="result-nav row">
        <!--nav bar-->
            <div class="result-nav-up">
                <!-- page/all number -->
                <div class="how-many-shops align-content-center">
                    <label class="text-white d-flex justify-content-center">
                        {{ len_page_objects }} / {{ len_shop_list }}
                    </label>
                </div>
            </div>
            <div class="result-nav-down">
                <ul class="pagination justify-content-center">
                    {% for page in paginator.page_range %}
                        {% if page == page_object.number %}
                            <li class="page-item active" aria-current="page">
                               <a class ="page-link">
                                   {{page}}
                               </a>
                            </li>
                        {% else %}
                            <li class="page-item" aria-current="page">
                                <a class ="page-link" href="?page={{page}}">
                                    {{page}}
                                </a>
                            </li>
                        {% endif %}
                    {% endfor %}
                </ul>
            </div>
        </div>
    </div>
{% endblock %}